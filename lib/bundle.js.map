{"version":3,"sources":["webpack:///webpack/bootstrap 6770451e0b28698507ec","webpack:///./lib/enclose.js","webpack:///./lib/game.js","webpack:///./lib/marble.js","webpack:///./lib/util.js","webpack:///./lib/moving_object.js","webpack:///./lib/ship.js","webpack:///./lib/game_view.js"],"names":["Game","require","GameView","document","addEventListener","canvasEl","getElementsByTagName","width","DIM_X","height","DIM_Y","ctx","getContext","game","start","Marble","Ship","Util","marbles","ships","filledPositions","Set","shapePositions","shapesArray","seenPositions","addMarbles","addFilledPositions","x_limit","y_limit","found","i","left","right","add","top","bottom","object","push","NUM_MARBLES","ship","pos","concat","allObjects","length","j","obj1","obj2","isCollidedWith","collision","collideWith","currentArray","beginPath","moveTo","lineTo","closePath","fillStyle","fill","root","target","seen","count","toString","foundArray","up","down","validArrays","leftCount","rightCount","upCount","downCount","has","returnLeft","dfs","Object","assign","unshift","returnRight","returnDown","returnUp","returnArray","forEach","array","startX","startY","endX","endY","strokeStyle","stroke","shapeArray","cur_pos","end","fillArray","shortArray","fillPointArray","fillPoints","arr","x_min","x_max","y_min","y_max","x","y","rayCasting","point","vs","inside","xi","yi","xj","yj","intersect","clearRect","BG_COLOR","fillRect","drawSeen","drawShapes","draw","imageData","getImageData","data","black","white","percent","delta","move","Math","random","asteroids","splice","marble","indexOf","moveObjects","checkCollisions","wrap","FPS","module","exports","MovingObject","DEFAULTS","COLOR","RADIUS","SPEED","options","color","randomPosition","radius","vel","randomVec","otherObject","relocate","dir","vec","norm","scale","dist","pos1","pos2","sqrt","pow","deg","PI","sin","cos","m","coord","max","isWrappable","arc","centerDist","timeDelta","velocityScale","NORMAL_FRAME_TIME_DELTA","offsetX","offsetY","prev_pos","hitWall","remove","randomColor","hexDigits","floor","started","impulse","current_pos","next_pos","addShip","keys","MOVES","k","key","power","fireBullet","bindKeyHandlers","lastTime","requestAnimationFrame","animate","bind","time","step"],"mappings":"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","file":"./lib/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 6770451e0b28698507ec","const Game = require(\"./game\");\nconst GameView = require(\"./game_view\");\n\ndocument.addEventListener(\"DOMContentLoaded\", function(){\n  const canvasEl = document.getElementsByTagName(\"canvas\")[0];\n  canvasEl.width = Game.DIM_X;\n  canvasEl.height = Game.DIM_Y;\n\n  const ctx = canvasEl.getContext(\"2d\");\n  const game = new Game();\n  new GameView(game, ctx).start();\n});\n\n\n\n// WEBPACK FOOTER //\n// ./lib/enclose.js","const Marble = require(\"./marble\");\nconst Ship = require(\"./ship\");\nconst Util = require(\"./util\");\n\nclass Game {\n  constructor() {\n    this.marbles = [];\n    this.ships = [];\n    this.filledPositions = new Set();\n    this.shapePositions = new Set();\n    this.shapesArray = [];\n    this.seenPositions = [];\n    this.addMarbles();\n    this.addFilledPositions();\n    this.x_limit = Game.DIM_X;\n    this.y_limit = Game.DIM_Y;\n    this.found = false;\n  }\n\n  addFilledPositions() {\n    for(let i = 0; i <= Game.DIM_Y; i += 1){\n      const left = `0,${i}`;\n      const right = `${Game.DIM_X},${i}`;\n      this.filledPositions.add(left);\n      this.filledPositions.add(right);\n    }\n    for(let i = 0; i <= Game.DIM_X; i += 1){\n      const top = `${i},0`;\n      const bottom = `${i},${Game.DIM_Y}`;\n      this.filledPositions.add(top);\n      this.filledPositions.add(bottom);\n    }\n  }\n\n  add(object) {\n    if (object instanceof Marble) {\n      this.marbles.push(object);\n    } else if (object instanceof Ship) {\n      this.ships.push(object);\n    } else {\n      throw \"wtf?\";\n    }\n  }\n\n  addMarbles() {\n    for (let i = 0; i < Game.NUM_MARBLES; i++) {\n      this.add(new Marble({ game: this }));\n    }\n  }\n\n  addShip(ctx) {\n    const ship = new Ship({\n      pos: [0,0],\n      game: this,\n      ctx: ctx\n    });\n\n    this.add(ship);\n\n    return ship;\n  }\n\n  allObjects() {\n    return [].concat(this.ships, this.marbles);\n  }\n\n  checkCollisions() {\n    const allObjects = this.allObjects();\n    for (let i = 0; i < allObjects.length; i++) {\n      for (let j = 0; j < allObjects.length; j++) {\n        const obj1 = allObjects[i];\n        const obj2 = allObjects[j];\n\n        if (obj1.isCollidedWith(obj2)) {\n          const collision = obj1.collideWith(obj2);\n          if (collision) return;\n        }\n      }\n    }\n  }\n\n  drawShapes(ctx) {\n    if(this.shapesArray.length > 0){\n      for (let i = 0; i < this.shapesArray.length; i++){\n        const currentArray = this.shapesArray[i];\n        ctx.beginPath();\n        ctx.moveTo(currentArray[0][0], currentArray[0][1]);\n        for (let j = 0; j < currentArray.length; j++){\n          ctx.lineTo(currentArray[j][0], currentArray[j][1]);\n        }\n        ctx.closePath();\n        ctx.fillStyle = \"white\";\n        ctx.fill();\n      }\n    }\n  }\n\n  dfs(root, target, seen, count){\n    if(root.toString() === target.toString()){\n      const foundArray = [];\n      foundArray.push(root);\n      return foundArray;\n    }\n\n    let left = [(root[0] - 10), root[1]];\n    let right = [(root[0] + 10), root[1]];\n    let up = [root[0], (root[1] - 10)];\n    let down = [root[0], (root[1] + 10)];\n    let validArrays = [];\n    const leftCount = count + 1;\n    const rightCount = count + 1;\n    const upCount = count + 1;\n    const downCount = count + 1;\n    if(this.filledPositions.has(left.toString()) && !seen.has(left.toString())){\n      let returnLeft = this.dfs(left, target, Object.assign(seen.add(root.toString())), leftCount);\n      if(returnLeft){\n        returnLeft.unshift(root);\n        validArrays.push(returnLeft);\n      }\n    }\n    if(this.filledPositions.has(right.toString()) && !seen.has(right.toString())){\n      let returnRight = this.dfs(right, target, Object.assign(seen.add(root.toString())), rightCount);\n      if(returnRight){\n        returnRight.unshift(root);\n        validArrays.push(returnRight);\n      }\n    }\n    if(this.filledPositions.has(down.toString()) && !seen.has(down.toString())){\n      let returnDown = this.dfs(down, target, Object.assign(seen.add(root.toString())), downCount);\n      if(returnDown){\n        returnDown.unshift(root);\n        validArrays.push(returnDown);\n      }\n    }\n    if(this.filledPositions.has(up.toString()) && !seen.has(up.toString())){\n      let returnUp = this.dfs(up, target, Object.assign(seen.add(root.toString())), upCount);\n      if(returnUp){\n        returnUp.unshift(root);\n        validArrays.push(returnUp);\n      }\n    }\n    let returnArray;\n    validArrays.forEach((array) => {\n      if (!returnArray){\n        returnArray = array;\n      } else {\n        if(array.length < returnArray.length){\n          returnArray = array;\n        }\n      }\n    });\n    if(count === 0){\n      return validArrays;\n    } else {\n      return returnArray;\n    }\n\n  }\n\n\n  drawSeen(ctx){\n    const seen = this.seenPositions;\n    if(seen.length > 1){\n      for (let i = 0; i < seen.length - 1; i++){\n        const startX = seen[i][0];\n        const startY = seen[i][1];\n        const endX = seen[i+1][0];\n        const endY = seen[i+1][1];\n        ctx.strokeStyle = \"white\";\n        ctx.beginPath();\n        ctx.moveTo(startX, startY);\n        ctx.lineTo(endX, endY);\n        ctx.stroke();\n      }\n        ctx.closePath();\n      if(this.filledPositions.has(seen[seen.length-1].toString())){\n        let shapeArray = [];\n        for (let i = 0; i < seen.length - 1; i++){\n          const cur_pos = [seen[i][0], seen[i][1]];\n          shapeArray.push(cur_pos);\n        }\n        const start = [seen[0][0], seen[0][1]];\n        const end = [seen[seen.length-1][0], seen[seen.length-1][1]];\n        const fillArray = this.dfs(end, start, new Set(), 0);\n        let shortArray = fillArray[0];\n        for(let i = 1; i< fillArray.length; i++){\n          if (fillArray[i].length < shortArray.length){\n            shortArray = fillArray[i];\n          }\n        }\n        shapeArray = shapeArray.concat(shortArray);\n\n        const fillPointArray = this.fillPoints(shapeArray);\n        for(let i = 0; i < shapeArray.length; i++){\n          this.filledPositions.add([shapeArray[i][0], shapeArray[i][1]]);\n        }\n        shapeArray.forEach((arr) => {\n          this.filledPositions.add(arr.toString());\n        });\n        fillPointArray.forEach((arr) => {\n          this.filledPositions.add(arr.toString());\n        });\n        this.shapesArray.push(shapeArray);\n        this.seenPositions = [];\n      }\n    }\n  }\n\n  fillPoints(shapeArray){\n    let x_min = Game.DIM_X;\n    let x_max = 0;\n    let y_min = Game.DIM_Y;\n    let y_max = 0;\n    for (let i = 0; i < shapeArray.length - 1; i++){\n      const cur_pos = [shapeArray[i][0], shapeArray[i][1]];\n      if (cur_pos[0] < x_min){\n        x_min = cur_pos[i];\n      }\n      if (cur_pos[0] > x_max){\n        x_max = cur_pos[i];\n      }\n      if (cur_pos[1] < y_min){\n        y_min = cur_pos[1];\n      }\n      if (cur_pos[1] > y_max){\n        y_max = cur_pos[1];\n      }\n    }\n    let fillPointArray = [];\n    for (let x = x_min; x <= x_max; x++){\n      for (let y = y_min; y <= y_max; y++){\n        if(this.rayCasting([x, y], shapeArray)){\n          fillPointArray.push([x,y]);\n        }\n      }\n    }\n    return fillPointArray;\n  }\n\n  rayCasting(point, vs) {\n\n    let x = point[0], y = point[1];\n\n    let inside = false;\n    for (let i = 0, j = vs.length - 1; i < vs.length; j = i++) {\n        let xi = vs[i][0], yi = vs[i][1];\n        let xj = vs[j][0], yj = vs[j][1];\n\n        let intersect = ((yi > y) != (yj > y)) && (x < (xj - xi) * (y - yi) / (yj - yi) + xi);\n        if (intersect) {\n          inside = !inside;\n        }\n    }\n\n    return inside;\n}\n\n  draw(ctx) {\n    ctx.clearRect(0, 0, Game.DIM_X, Game.DIM_Y);\n    ctx.fillStyle = Game.BG_COLOR;\n    ctx.fillRect(0, 0, Game.DIM_X, Game.DIM_Y);\n\n\n    this.drawSeen(ctx);\n    this.drawShapes(ctx);\n\n    this.allObjects().forEach((object) => {\n      object.draw(ctx);\n    });\n    const imageData = ctx.getImageData(0, 0, Game.DIM_X, Game.DIM_Y);\n    const data = imageData.data;\n    let black = 0;\n    let white = 0;\n    let count = 0;\n    for (let i = 0; i < data.length; i += 40){\n      if(data[i] === 0){\n        black++;\n      } else if (data[i] === 255){\n        white ++;\n      }\n    }\n    const percent = (white/(white+black));\n\n    if (percent > (4/5)){\n    }\n\n  }\n\n  hitWall(pos) {\n    if(pos[0] < 0 || pos[0] > Game.DIM_X){\n      return \"horizontal\";\n    } else if( pos[1] < 0 || pos[1] > Game.DIM_Y){\n      return \"vertical\";\n    }\n  }\n\n  moveObjects(delta) {\n    this.allObjects().forEach((object) => {\n      object.move(delta);\n    });\n  }\n\n  randomPosition() {\n    return [\n      Game.DIM_X * Math.random(),\n      Game.DIM_Y * Math.random()\n    ];\n  }\n\n  remove(object) {\n    if (object instanceof Marble) {\n      this.asteroids.splice(this.marble.indexOf(object), 1);\n    } else if (object instanceof Ship) {\n      this.ships.splice(this.ships.indexOf(object), 1);\n    } else {\n      throw \"wtf?\";\n    }\n  }\n\n  step(delta) {\n    this.moveObjects(delta);\n    this.checkCollisions();\n  }\n\n  wrap(pos) {\n    return [\n      Util.wrap(pos[0], Game.DIM_X), Util.wrap(pos[1], Game.DIM_Y)\n    ];\n  }\n}\n\nGame.BG_COLOR = \"#000000\";\nGame.DIM_X = 1000;\nGame.DIM_Y = 600;\nGame.FPS = 32;\nGame.NUM_MARBLES = 0;\n\nmodule.exports = Game;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/game.js","const Util = require(\"./util\");\nconst MovingObject = require(\"./moving_object\");\nconst Ship = require(\"./ship\");\n\nconst DEFAULTS = {\n\tCOLOR: \"#505050\",\n\tRADIUS: 15,\n\tSPEED: 4\n};\n\nclass Marble extends MovingObject {\n    constructor(options = {}) {\n      options.color = DEFAULTS.COLOR;\n      options.pos = options.pos || options.game.randomPosition();\n      options.radius = DEFAULTS.RADIUS;\n      options.vel = options.vel || Util.randomVec(DEFAULTS.SPEED);\n\t\t\tsuper(options);\n    }\n\n    collideWith(otherObject) {\n      if (otherObject instanceof Ship) {\n\t\t\t\totherObject.relocate();\n            return true;\n      }\n    }\n}\n\nmodule.exports = Marble;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/marble.js","const Util = {\n  // Normalize the length of the vector to 1, maintaining direction.\n  dir (vec) {\n    const norm = Util.norm(vec);\n    return Util.scale(vec, 1 / norm);\n  },\n  // Find distance between two points.\n  dist (pos1, pos2) {\n    return Math.sqrt(\n      Math.pow(pos1[0] - pos2[0], 2) + Math.pow(pos1[1] - pos2[1], 2)\n    );\n  },\n  // Find the length of the vector.\n  norm (vec) {\n    return Util.dist([0, 0], vec);\n  },\n  // Return a randomly oriented vector with the given length.\n  randomVec (length) {\n    const deg = 2 * Math.PI * Math.random();\n    return Util.scale([Math.sin(deg), Math.cos(deg)], length);\n  },\n  // Scale the length of a vector by the given amount.\n  scale (vec, m) {\n    return [vec[0] * m, vec[1] * m];\n  },\n\n  wrap (coord, max) {\n    if (coord < 0) {\n      return max - (coord % max);\n    } else if (coord > max) {\n      return coord % max;\n    } else {\n      return coord;\n    }\n  }\n};\n\nmodule.exports = Util;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/util.js","const Util = require(\"./util\");\n\nclass MovingObject {\n  constructor(options) {\n    this.pos = options.pos;\n    this.vel = options.vel;\n    this.radius = options.radius;\n    this.color = options.color;\n    this.game = options.game;\n    this.isWrappable = true;\n    this.ctx = options.ctx;\n  }\n\n  collideWith(otherObject) {\n    // default do nothing\n  }\n\n  draw(ctx) {\n    ctx.fillStyle = this.color;\n\n    ctx.beginPath();\n    ctx.arc(\n      this.pos[0], this.pos[1], this.radius, 0, 2 * Math.PI, true\n    );\n    ctx.fill();\n  }\n\n  isCollidedWith(otherObject) {\n    const centerDist = Util.dist(this.pos, otherObject.pos);\n    return centerDist < (this.radius + otherObject.radius);\n  }\n\n  move(timeDelta) {\n    //timeDelta is number of milliseconds since last move\n    //if the computer is busy the time delta will be larger\n    //in this case the MovingObject should move farther in this frame\n    //velocity of object is how far it should move in 1/60th of a second\n    const velocityScale = timeDelta / NORMAL_FRAME_TIME_DELTA,\n    offsetX = this.vel[0] * velocityScale,\n    offsetY = this.vel[1] * velocityScale;\n    const prev_pos = this.pos;\n    this.pos = [this.pos[0] + offsetX, this.pos[1] + offsetY];\n    this.game.hitWall(prev_pos, this.pos);\n\n  }\n\n  remove() {\n    this.game.remove(this);\n  }\n}\n\nconst NORMAL_FRAME_TIME_DELTA = 1000/60;\n\nmodule.exports = MovingObject;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/moving_object.js","const MovingObject = require(\"./moving_object\");\nconst Util = require(\"./util\");\n\nfunction randomColor() {\n  const hexDigits = \"0123456789ABCDEF\";\n\n  let color = \"#\";\n  for (let i = 0; i < 3; i ++) {\n    color += hexDigits[Math.floor((Math.random() * 16))];\n  }\n\n  return color;\n}\n\nclass Ship extends MovingObject {\n  constructor(options) {\n    options.radius = Ship.RADIUS;\n    options.vel = options.vel || [0, 0];\n    options.color = options.color || randomColor();\n    super(options);\n    this.started = false;\n  }\n\n  power(impulse) {\n    if(this.pos[0] + (impulse[0]*10) < 0 || this.pos[0] + (impulse[0]*10) > this.game.x_limit || this.pos[1] + (impulse[1]*10) < 0 || this.pos[1] + (impulse[1]*10) > this.game.y_limit){\n      return;\n    }\n    for(let i = 0; i < 10; i++){\n      const current_pos = [this.pos[0], this.pos[1]];\n      this.pos[0] += impulse[0];\n      this.pos[1] += impulse[1];\n      const next_pos = [this.pos[0], this.pos[1]];\n      if(!this.started){\n        if(this.game.filledPositions.has(current_pos.toString()) && !this.game.filledPositions.has(next_pos.toString())){\n          this.started = true;\n          this.game.seenPositions.push(current_pos);\n          this.game.seenPositions.push(next_pos);\n        }\n      } else {\n        if(this.game.filledPositions.has(next_pos.toString())){\n          this.started = false;\n        }\n        this.game.seenPositions.push(next_pos);\n      }\n    }\n  }\n\n  relocate() {\n    this.pos = [0, 0];\n    this.vel = [0, 0];\n  }\n}\n\nShip.RADIUS = 15;\nmodule.exports = Ship;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/ship.js","class GameView {\n  constructor(game, ctx) {\n    this.ctx = ctx;\n    this.game = game;\n    this.ship = this.game.addShip(ctx);\n  }\n\n  bindKeyHandlers() {\n    const ship = this.ship;\n\n    Object.keys(GameView.MOVES).forEach((k) => {\n      let move = GameView.MOVES[k];\n      key(k, () => { ship.power(move); });\n    });\n\n    key(\"space\", () => { ship.fireBullet(); });\n  }\n\n  start() {\n    this.bindKeyHandlers();\n    this.lastTime = 0;\n    //start the animation\n    requestAnimationFrame(this.animate.bind(this));\n  }\n\n  animate(time) {\n    const timeDelta = time - this.lastTime;\n\n    this.game.step(timeDelta);\n    this.game.draw(this.ctx);\n    this.lastTime = time;\n\n    //every call to animate requests causes another call to animate\n    requestAnimationFrame(this.animate.bind(this));\n  }\n}\n\nGameView.MOVES = {\n  \"up\": [ 0, -1],\n  \"left\": [-1,  0],\n  \"down\": [ 0,  1],\n  \"right\": [ 1,  0],\n};\n\nmodule.exports = GameView;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/game_view.js"],"sourceRoot":""}